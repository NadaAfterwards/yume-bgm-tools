## Usage:
This tool prompts the user with two methods:
> 1.Single File Mode: Input details manually one file at a time -- Slow but user friendly.

> 2.CSV Feed Mode: Provide a CSV formated file to process in batch -- Fast but technical.

### Method one
Intended for users to familiarize with the program, for each audio file proccessed it will ask the following:
- The name of the game: Users are expected to provide the name with proper casing and following Yume Wiki's namespace conventions. E.g. instead of ".flow" you should input "Dotflow".
- The name of the file: The name of the audio file which requires a relative or absolute path whenever the file is not within the tool's folder.
- The speed of the song: The speed in which the song plays in-game, represented as a percentage value minus the percentage symbol. I.e. instead of "80%" you should input "80".

Some checks are put in place in case of bad inputs so generally you shouldn't run into issues. Once all the info is accounted for, the program will begin processing the files. After it's done it will ask you if you wish to process another file, restarting method's one process if you respond "yes". Responding "no" will exit the program.

### Method two
Essentially the same thing but rather than prompting you for every single file, you tell the program to get this information from a CSV file instead. When method two is active two things will be asked from you:
- The CSV file: Similar to method one's name of file, if the CSV file is not present within the program's folder a relative or absolute path is necessary.
- Path to BGMs: The path to where all the audio files listed in the CSV are to be fetched from. If you place all the audio files in the same folder, you can leave this one empty.

Once again some checks are in place when prompting the user however you should make sure to know what you are doing as this process can be more delicate. If the CSV file is not one generated by BGM Data Extractor _make sure to follow the pre-requisites as mentioned by the tool_ otherwise the program might traceback.

Once the tool gathers the necessary information it will proceed as method one without any interruptions, this means if there are any issues such as missing audio files or bad speed values these iterations will be skipped entirely. Whenever this happens a "log.txt" file will be generated in the same directory as the tool so you can review the issue(s).

If the tool were to traceback or be interrupted, a failsafe system is in place where it will register to a "progress.txt" file (currently in same directory, future versions will move this to a temp folder) all the necesasry information to resume work from the _last successfully processed file_. Meaning if the tool skipped the last few iterations it will resume before the skipping took place, this gives you a chance to also review any bad data before resuming.

In order to resume you will have to select method two again, future versions of the tool might make it so the user is prompted immediately instead.

## Limitations:
- Tempo is limited to a range of 50% to 150% to match RPG Maker's limit. Songs used in Yume Nikki fangames might sometimes bypass these tempo changes via external tools. The tool was designed to respect RPG Maker limits because lower than 50% the audio losses quality (pydub limitation) and above 150% it takes longer to compute.
- Looping is hardcoded to one minute because this is the desired length for the wiki, this can easily be modified in the source code by going to Classes/audio_processor.py and changing the condition for `extend_to_one_minute()`. In the distant future I could make this customizable but it is not part of the tool's specifiations so [bodging](https://www.youtube.com/watch?v=lIFE7h3m40U) might happen.
- Only WAV and MP3 files are supported as these are the ones used by RPG Maker. MIDI is not supported, it was initially added to the filter list but it resulted in weird outputs. Providing support is beyond my scope and generates too many dependencies.
 
Note: MIDI was included in the filter list up to version 1.0.1.

## I/O:
- Input: User defined strings
- Output: OGG files in "Output" folder

## Core functionality:
- Applies corresponding tempo to the audio file
- Loops it until it reaches one minute (60000 miliseconds)
- Exports to OGG Vorbis in Output folder

## Dev. Comments:

### Ideas
- Use Python's tempfile module to move away progress.txt from view, it will work in both Windows and Unix-like and can let the OS delete the file. Might be important to specify how and when to delete the file, seems the module can delete the file when the file is closed.
- Switch from OS module to pathlib as it's more modern and pythonic this should not change the logic of the script and its classes. It also wouldn't improve performance or memory allocation.
- Make AudioProcessor.change_tempo() skip on tempos that are 100% -- Makes no changes to the output but optimizes wait times.

### Notes
- parse_csv() does not check for implicit extension but no text signals this

### To-DOs
- Add logging module for tracebacks
- Unhandled exceptions:
- - try csv.reader using correct quotechar
- - try row not having enough values
